<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MaurizoGameur â€¢ Live</title>

<style>
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:#070a12;
  color:#eaf0ff;
}

/* ðŸ”¥ FireRed palette */
:root{
  --dark:#1a0f0f;
  --dred:#5c0b0b;
  --red:#b91c1c;
  --orange:#ff7a18;
  --glow:#ffd166;
  --ink:#fff3e8;
}

.wrap{width:min(1500px,calc(100% - 24px));margin:18px auto}

/* ===== TOP BAR ===== */
.topbar{
  display:flex;justify-content:space-between;gap:12px;
  padding:10px 14px;border-radius:999px;
  background:rgba(255,255,255,.05);
}
.left{display:flex;gap:10px;align-items:center}

.dot{
  width:12px;height:12px;border-radius:999px;
}
.dot.live{background:#5CFF8F}
.dot.off{
  background:linear-gradient(var(--glow),var(--orange),var(--red));
}

.btn{
  padding:10px 14px;border-radius:999px;
  text-decoration:none;font-weight:900;
  border:1px solid rgba(255,255,255,.1);
  background:rgba(255,255,255,.08);
  color:#fff;
}
.btn--twitch{
  background:linear-gradient(90deg,#4cc9f0,#f72585);
}
.btn--live{display:none}
.btn--live.show{display:inline-flex}

/* ===== PLAYER ===== */
.frame{
  border-radius:18px;
  background:rgba(255,255,255,.04);
  padding:12px;
}

.playerWrap{position:relative}

.player{
  width:100%;
  aspect-ratio:16/9;
  border-radius:16px;
  border:0;
}

/* ===== CHAT ===== */
.chatWrap{display:none;margin-top:12px}
.chat{width:100%;height:520px;border-radius:16px;border:0}

/* ===== OFFLINE ===== */
.offlineOverlay{
  position:absolute;inset:0;
  border-radius:16px;
  display:none;
  background:linear-gradient(var(--dred),var(--dark));
}

.offlineInner{
  position:absolute;inset:0;
  display:grid;place-items:center;
  text-align:center;
}

.badge{
  background:rgba(0,0,0,.3);
  padding:8px 12px;border-radius:999px;
}

.offlineTitle{
  font-size:40px;font-weight:900;
  color:var(--ink);
}

.offlineButtons{margin-top:12px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}

.fireBtn{
  padding:12px 18px;
  border-radius:999px;
  background:linear-gradient(var(--glow),var(--orange));
  color:#000;text-decoration:none;
}
.fireBtn--ghost{
  background:rgba(0,0,0,.3);
  color:#fff;
}
</style>
</head>

<body>

<main class="wrap">

<div class="topbar">
  <div class="left">
    <span class="dot off" id="dot"></span>
    <span id="statusText">OFFLINE</span>
  </div>

  <div>
    <button class="btn" id="toggleChat">ðŸ’¬ Chat</button>

    <a id="liveBtn" class="btn btn--live"
       href="https://www.twitch.tv/maurizogameur"
       target="_blank">ðŸ”´ LIVE</a>

    <a class="btn btn--twitch"
       href="https://www.twitch.tv/maurizogameur"
       target="_blank">Twitch</a>
  </div>
</div>

<section class="frame">

<div class="playerWrap">

<iframe
class="player"
src="https://player.twitch.tv/?channel=maurizogameur&parent=maurizogameur.github.io">
</iframe>

<!-- OFFLINE -->
<div class="offlineOverlay" id="offlineOverlay">
<div class="offlineInner">

<div>
<div class="badge">ðŸ”¥ OFFLINE</div>
<h2 class="offlineTitle">MaurizoGameur est hors ligne</h2>

<div class="offlineButtons">
<a class="fireBtn" href="https://www.twitch.tv/maurizogameur" target="_blank">Twitch</a>
<a class="fireBtn fireBtn--ghost" href="https://discord.gg/7ARVD5hzR9" target="_blank">Discord</a>
<a class="fireBtn fireBtn--ghost"
href="https://raw.githubusercontent.com/maurizoGameur/maurizogameur.github.io/main/planning.png"
target="_blank">Planning</a>
<a class="fireBtn fireBtn--ghost"
href="https://github.com/maurizoGameur" target="_blank">GitHub</a>
</div>

</div>
</div>
</div>

</div>

<!-- CHAT -->
<div class="chatWrap" id="chatWrap">
<iframe
class="chat"
src="https://www.twitch.tv/embed/maurizogameur/chat?parent=maurizogameur.github.io">
</iframe>
</div>

</section>

</main>

<script>
/* CHAT toggle */
const btnChat=document.getElementById("toggleChat");
const chatWrap=document.getElementById("chatWrap");
let open=false;
btnChat.onclick=()=>{
  open=!open;
  chatWrap.style.display=open?"block":"none";
};

/* LIVE CHECK */
const overlay=document.getElementById("offlineOverlay");
const dot=document.getElementById("dot");
const status=document.getElementById("statusText");
const liveBtn=document.getElementById("liveBtn");

const url="https://api.allorigins.win/raw?url="+
encodeURIComponent("https://decapi.me/twitch/uptime/maurizogameur");

async function check(){
  try{
    const t=(await (await fetch(url)).text()).toLowerCase();
    const live=!t.includes("offline");

    if(live){
      overlay.style.display="none";
      dot.classList.add("live");
      status.textContent="LIVE";
      liveBtn.classList.add("show");
    }else{
      overlay.style.display="block";
      dot.classList.add("off");
      status.textContent="OFFLINE";
      liveBtn.classList.remove("show");
    }
  }catch(e){}
}

check();
setInterval(check,60000);

/* DEBUG */
document.addEventListener("keydown",e=>{
  if(e.key==="l")overlay.style.display="none";
  if(e.key==="o")overlay.style.display="block";
});
</script>

</body>
</html>
